import{j as e,r as x,R as L}from"./react-L_ukdsnw.js";import{c as P}from"./react-dom-50bK44qw.js";import{D as k}from"./react-chartjs-2-o_NvxRvI.js";import{S as B}from"./react-slick-zyv5WSLU.js";/* empty css                       */import{F}from"./react-icons-LqCbCNTM.js";import{C as q,A as z,p as I,a as _}from"./chart.js-uyaxlqz9.js";import{e as W}from"./date-fns-zXfHFL24.js";import{e as Q}from"./react-datepicker-DFLYum_3.js";import{r as H}from"./react-responsive-b9SflI7d.js";import{Q as G,a as V}from"./@tanstack-afeAMuk6.js";import"./classnames-Qe22oBeS.js";import"./scheduler-iwWdm5Ml.js";import"./lodash.debounce-5mBl9nYv.js";import"./resize-observer-polyfill-802KOfsG.js";import"./json2mq-hkdWEevq.js";import"./string-convert-NV8PTOlN.js";import"./enquire.js-6Qlgqrhw.js";import"./@kurkle-sRCxMDZz.js";import"./@babel-blHd5-vz.js";import"./react-onclickoutside-urJW6kcO.js";import"./react-popper-CogaYvqk.js";import"./react-fast-compare-55LePW81.js";import"./@popperjs-zyV4rJhQ.js";import"./warning-tq1HNrfO.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&d(r)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();const K=({title:t,subtitle:a,value:i})=>{const d={plugins:{legend:{display:!1},tooltip:{enabled:!1}},responsive:!0,maintainAspectRatio:!1,aspectRatio:2,layout:{padding:40}},o={labels:[t,a],datasets:[{label:"Efectividad",data:[i,100-i],backgroundColor:["#598234","#2B2B36"],borderColor:["#598234","#2B2B36"],borderWidth:1,circumference:180,rotation:270,cutout:"75%"}]},n={id:"gaugePointer",afterDatasetsDraw(r,l,u){const{ctx:s,data:c}=r,f=r.getDatasetMeta(0).data[0].x,g=r.getDatasetMeta(0).data[0].y,p=r.getDatasetMeta(0).data[0].outerRadius,b=r.getDatasetMeta(0).data[0].innerRadius,y=p-b,w=p-b+y,v=0-p-y/2,C=Math.PI/180,m=6,h=r.getDatasetMeta(0).data[0].$context.raw;function A(j){return j.reduce((N,S)=>N+S,0)}const E=c.datasets[0].data.map((j,N)=>j),D=A(E),T=h/D*100,$=h/D*180-90;s.save(),s.translate(f,g),s.rotate(C*$),s.beginPath(),s.fillStyle="#598234",s.roundRect(0-m/2,v,m,w,5),s.fill(),s.restore();function O(){const S=30*(r.chartArea.width/r.chartArea.height);return S>60?60:S}s.font=`bold ${O()}px Inter sans-serif`,s.fillStyle="black",s.textAlign="center",s.textBaseline="bottom",s.fillText(`${T.toFixed(0)}%`,f,g)}};return e.jsxs("div",{className:"card__container block w-full px-8 py-5 max-w-full 2xl:max-w-[100%] lg:max-w-[600px] lg:max-h-[350px] max-h-80  h-[350px] 2xl:max-h-96 bg-white rounded-2xl shadow-cardShadow ",children:[e.jsx("h3",{className:"font-roboto font-bold w-full text-2xl md:text-3xl xl:text-4xl text-grey-text select-none",children:t}),e.jsx("div",{className:"relative block h-full w-[99%]",children:e.jsx(k,{options:d,data:o,plugins:[n]})})]})},U=({children:t})=>{const a={dots:!0,arrows:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1};return e.jsx(B,{...a,children:t})},J=({closeModal:t,title:a,children:i})=>{const d={buttonStyles:"focus:outline-0  text-blue-button border-blue-button hover:border-blue-button border bg-transparent border-opacity-40 hover:border-opacity-100 hover:bg-blue-button hover:bg-opacity-[.05]",transitionStyle:"transition-bg button-ease duration-200"};return e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-black  opacity-50",onClick:t}),e.jsxs("div",{className:"z-20 bg-white p-8 w-[90%] max-w-[500px] rounded-lg shadow-cardShadow flex flex-col",children:[a&&e.jsx("h3",{className:"text-xl font-semibold mb-4",children:a}),i,t&&e.jsx("button",{className:`mt-8 ${d.buttonStyles} ${d.transitionStyle}`,onClick:t,children:"Cerrar"})]})]})},X=({text:t,children:a})=>{const[i,d]=x.useState(!1),o=x.useRef(null),n=x.useRef(null),r=s=>{i||d(!0)},l=()=>{i&&d(!1)},u=s=>{o.current&&!o.current.contains(s.target)&&n.current&&!n.current.contains(s.target)&&d(!1)};return x.useEffect(()=>(document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}),[]),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("span",{ref:n,onClick:r,className:"cursor-pointer",children:a}),e.jsx("div",{ref:o,onClick:l,className:` cursor-pointer select-none absolute z-10 bg-black text-white p-2 rounded-md -left-2 top-full text-sm sm:text-base max-w-[200px] lg:max-w-[300px] lg:w-[300px] w-[200px] transition-all duration-300 ease-in-out ${i?"opacity-100 transform scale-100":"opacity-0 transform scale-95"}`,children:t})]})},Y=({machines:t})=>{const[a,i]=x.useState(!1),[d,o]=x.useState(null),n=c=>c?"text-green-success":"text-red-alert",r=c=>({true:"Activo",false:"Inactivo"})[c],l=c=>{i(!0),o(c.requests)},u=()=>{i(!1),o(null)},s=()=>d.map((c,f)=>e.jsxs(x.Fragment,{children:[e.jsxs("p",{children:["Folio: ",c.folio]}),e.jsxs("p",{children:["Status: ",c.status]}),e.jsxs("p",{children:["Departamento: ",c.department]}),e.jsxs("p",{children:["Tiempo transcurrido: ",c.elapsedTime]})]},f));return e.jsxs("div",{className:"font-roboto 2xl:max--[100%] lg:max-w-[100%] lg:max-h-[350px] h-[350px] card__container block w-full pl-8 py-5 max-w-full max-h-80 2xl:max-h-96 bg-white rounded-2xl shadow-cardShadow ",children:[e.jsxs("h3",{className:"font-roboto font-bold w-full text-2xl md:text-3xl xl:text-4xl text-grey-text flex ",children:[e.jsx("p",{className:"select-none",children:"Maquinas"}),e.jsx(X,{text:"Haz clic en la máquina 'Inactiva' para más detalles.",children:e.jsx(F,{style:{marginLeft:"5px",cursor:"pointer",width:"20px"},title:"Más información"})})]}),e.jsx("ul",{className:"h-[80%] flex flex-col overflow-y-auto pr-5 sm:pr-[10%] mt-3",children:t.map((c,f)=>e.jsxs("li",{className:"relative flex justify-between items-center flex-wrap h-auto w-full my-5",children:[e.jsx("p",{className:"cursor-default select-none",children:c.name}),e.jsx("p",{onClick:()=>l(c),className:`${c.isActive?"cursor-default":"cursor-pointer"} select-none ${n(c.isActive)} `,children:r(c.isActive)})]},f))}),a&&d&&e.jsx(J,{title:"Información de la máquina",closeModal:u,children:e.jsx(U,{children:s()})})]})},Z=({title:t,qty:a})=>e.jsxs("div",{className:"flex flex-col items-center md:w-[280px] w-[80%] h-[150px] p-[25px] justify-center bg-white rounded-2xl shadow-cardShadow my-5 md:my-0 ",children:[e.jsx("p",{className:"font-roboto font-semibold text-6xl select-none",children:a}),e.jsx("h2",{className:"font-roboto font-bold text-3xl select-none",children:t})]});q.register(z,I,_);const ee=({title:t,value:a})=>{const i=r=>{const l={Disponibilidad:"#3498DB",Rendimiento:"#B30000",Calidad:"#FFC029",default:"#598234"};return l[r]||l.default},d={plugins:{legend:{display:!1},tooltip:{enabled:!1,mode:"dataset"}},responsive:!0,maintainAspectRatio:!1,aspectRatio:1,layout:{padding:20}},o={labels:["OEE","Waste"],datasets:[{label:"Effectiveness",data:[a,100-a],backgroundColor:[i(t),"#E2E2E2"],borderColor:[i(t),"#E2E2E2"],borderWidth:1,rotation:90,cutout:"85%"}]},n={id:"gaugePointer",afterDatasetsDraw(r){const{ctx:l}=r,u=r.getDatasetMeta(0).data[0].x,s=r.getDatasetMeta(0).data[0].y;function c(){const p=52*(r.chartArea.width/r.chartArea.height);return p>60?60:p}l.font=`bold ${c()}px Inter sans-serif`,l.fillStyle=i(t),l.textAlign="center",l.textBaseline="middle",l.fillText(`${a}%`,u,s)}};return e.jsxs("div",{className:"card__container block w-full px-8 py-5 max-w-full 2xl:max-w-[100%] lg:max-w-[600px] lg:max-h-[350px] max-h-80  h-[350px] 2xl:max-h-96 bg-white rounded-2xl shadow-cardShadow ",children:[e.jsx("h3",{className:"font-roboto font-bold w-full text-2xl md:text-3xl xl:text-4xl text-grey-text select-none ",children:t}),e.jsx("div",{className:"relative block h-[90%] w-[99%]",children:e.jsx(k,{options:d,data:o,plugins:[n]})})]})},te=[{title:"Efectvidad",subtitle:"Waste",value:95,type:"gauge"},{title:"Rendimiento",value:95,type:"doghnut"},{title:"Disponibilidad",value:100,type:"doghnut"},{title:"Calidad",value:100,type:"doghnut"},{title:"MTBF",value:10,type:"doghnut"}],se={piezasReales:200,piezasPlaneadas:209},oe=[{name:"DF-002",isActive:!1,requests:[{folio:"M24-250260",status:"1",department:"Mantenimiento",elapsedTime:"1.00:46:00"},{folio:"M24-250260",status:"1",department:"Mantenimiento",elapsedTime:"1.00:46:00"}]},{name:"DF-003",isActive:!0,requests:[]},{name:"EN-734",isActive:!0,requests:[]},{name:"DN-667",isActive:!0,requests:[]},{name:"DN-668",isActive:!1,requests:[{folio:"DN-6680260",status:"1",department:"Mantenimiento",elapsedTime:"1.00:46:00"},{folio:"DN-6680260",status:"1",department:"Mantenimiento",elapsedTime:"1.00:46:00"}]},{name:"PH-107",isActive:!0,requests:[]},{name:"RD-052",isActive:!0,requests:[]},{name:"RD-053",isActive:!1,requests:[{folio:"RD-0530260",status:"1",department:"Mantenimiento",elapsedTime:"1.00:46:00"},{folio:"RD-0530260",status:"1",department:"Mantenimiento",elapsedTime:"1.00:46:00"}]},{name:"BD-022",isActive:!0,requests:[]}],ne=[{text:"1er Turno",value:"1",isSelected:!1},{text:"2do Turno",value:"2",isSelected:!0},{text:"3er Turno",value:"3",isSelected:!1}],ae=[{text:"86777054",value:"810",isSelected:!1},{text:"86333048",value:"733",isSelected:!1},{text:"54390823",value:"390",isSelected:!0}],R={metrics:te,production:se,machines:oe,shifts:ne,cells:ae},re=()=>{const{metrics:t,production:a,machines:i}=R,d={gridStyles:"dashboard__container block relative w-full h-auto grid gap-6 xl:grid-cols-3 xl:grid-rows-2 md:grid-cols-2 sm:grid-cols-1 sm:grid-auto-rows-auto",marginStyles:"lg:px-20 md:px-10 px-5 my-10 pb-12"},o={doghnut:ee,gauge:K},n=(l,u)=>{const s=o[l.type];return s?e.jsx(s,{value:l.value,title:l.title,subtitle:l.subtitle},`${l.type}-${u}`):(console.warn(`Unknown metric type: ${l.type}`),null)},r=l=>{if(l&&typeof l=="object")return Object.entries(l).map(([u,s])=>e.jsx(Z,{title:u,qty:s},u));console.warn("Invalid production data format")};return e.jsxs("div",{className:`${d.gridStyles} my-10 pb-12 md:pb-0`,children:[e.jsx("div",{className:"flex flex-col justify-between items-center 2xl:max-h-[350px]",children:a&&r(a)}),i&&e.jsx(Y,{machines:i}),t&&Array.isArray(t)&&t.map(n)]})},le=t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:15,height:16,fill:"none",...t,children:e.jsx("path",{stroke:"#151D48",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m3.997 6 3.51 4 3.51-4"})}),M=({options:t,isFilterEnable:a})=>{const[i,d]=x.useState([]),[o,n]=x.useState(!1),[r,l]=x.useState(""),u=x.useRef(null),s=x.useRef(null),c=x.useRef(null),f={fontStyles:"font-roboto font-bold text-dark-charcoal text-sm sm:text-xl",buttonStyles:"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-blue-500 hover:border-blue-500"},g=()=>{if(t){const m=t.find(h=>h.isSelected);d(m||null)}};x.useEffect(()=>{const m=h=>{u.current&&s.current&&!u.current.contains(h.target)&&!s.current.contains(h.target)&&(v(),n(!1),w())};return t&&g(),document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const p=()=>{n(!o)},b=m=>{l(m.target.value.toLowerCase())},y=m=>{d(m),w(),v(),p()},w=()=>{s.current&&(s.current.scrollTop=0)},v=()=>{l(""),c.current&&(c.current.value="")},C=x.useCallback(()=>a?t.filter(m=>m.text.toLowerCase().includes(r.toLowerCase())):t,[r,a]);return e.jsxs("div",{className:`relative group w-[100%] h-[100%] ${f.fontStyles}`,children:[e.jsxs("button",{ref:u,onClick:p,readOnly:!0,className:`relative h-full flex justify-center items-center w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white rounded-xl shadow-cardShadow hover:border-blue-button ${f.buttonStyles}`,children:[e.jsx("span",{className:`mr-2 ${f.fontStyles} `,children:i.text}),e.jsx(le,{className:"absolute right-[10%]"})]}),e.jsxs("div",{ref:s,className:`${o?"":"hidden"} absolute right-0 mt-2 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 p-1 space-y-1 z-10 w-full max-h-[200px] overflow-y-auto ${f.fontStyles} `,children:[a&&e.jsx("input",{ref:c,className:`block w-full px-4 py-2 text-gray-800 font-normal focus:outline-none ${a?"active":"hidden"}`,type:"text",placeholder:"Buscar...",autoComplete:"on",onChange:b}),t&&C().map((m,h)=>e.jsx("option",{value:m.value,onClick:()=>y(m),className:"font-normal block px-4 py-2 text-gray-700 hover:bg-gray-100 active:bg-blue-100 cursor-pointer rounded-md",children:m.text},h))]})]})},ie=()=>{const{shifts:t,cells:a}=R,[i,d]=x.useState(new Date),o=H.useMediaQuery({maxWidth:768}),n={cardStyles:"flex items-center justify-center bg-white rounded-xl shadow-cardShadow ",buttonStyles:"flex items-center justify-center bg-transparent  w-[200px] h-[50px]",fontStyles:"font-roboto font-bold text-dark-charcoal text-sm sm:text-xl md:text-base lg:text-xl",marginStyles:"px-0 sm:px-5 py-5 ",dateStyles:"select-none focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-blue-button hover:border-blue-button hover:border"};function r(u){d(u)}const l=x.forwardRef(({value:u,onClick:s},c)=>e.jsx("button",{className:`w-full h-full bg-white rounded-xl datepicker-input text-center cursor-pointer ${n.dateStyles}`,onClick:s,ref:c,readOnly:!0,children:u}));return e.jsxs("div",{className:"relative flex justify-center w-full h-auto mt-[30px]",children:[e.jsx("div",{className:"w-1/3 h-full flex justify-start",children:e.jsx("div",{className:`${n.fontStyles} ${n.buttonStyles} `,children:e.jsx(M,{options:a,isFilterEnable:!0})})}),e.jsx("div",{className:"w-1/3 h-full flex justify-center mx-2 md:mx-0",children:e.jsx("div",{className:` ${n.fontStyles} w-[200px] h-[50px]`,children:e.jsx(M,{options:t,isFilterEnable:!1})})}),e.jsx("div",{className:"w-1/3 h-full flex justify-end",children:e.jsx("div",{className:`datepicker-container ${n.cardStyles} ${n.fontStyles} p-0 w-[100%] xl:w-[80%] h-[50px]`,children:e.jsx(Q,{selected:i,onChange:r,dateFormat:o?"dd MMMM":"EEEE dd MMMM yyyy",locale:W,maxDate:new Date,customInput:e.jsx(l,{})})})})]})},ce=new G;function de(){const[t,a]=x.useState(!1);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,x.useEffect(()=>{const i=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;a(i)},[]),e.jsx(V,{client:ce,children:e.jsx("div",{className:`App w-full  xl:h-screen flex flex-col bg-white-smoke ${t?"theme-dark":"theme-light"}`,children:e.jsxs("section",{className:" block relative w-full h-full lg:px-20 md:px-10 px-5",children:[e.jsx(ie,{}),e.jsx(re,{})]})})})}P.createRoot(document.getElementById("root")).render(e.jsx(L.StrictMode,{children:e.jsx(de,{})}));
