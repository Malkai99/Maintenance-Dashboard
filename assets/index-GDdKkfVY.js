import{j as e,r as f,R as T}from"./react-L_ukdsnw.js";import{c as P}from"./react-dom-50bK44qw.js";import{D as R}from"./react-chartjs-2-o_NvxRvI.js";import{S as B}from"./react-slick-zyv5WSLU.js";/* empty css                       */import{C as q,A as L,p as I,a as z}from"./chart.js-uyaxlqz9.js";import{e as F}from"./date-fns-zXfHFL24.js";import{e as _}from"./react-datepicker-DFLYum_3.js";import{r as W}from"./react-responsive-b9SflI7d.js";import"./classnames-Qe22oBeS.js";import"./scheduler-iwWdm5Ml.js";import"./lodash.debounce-5mBl9nYv.js";import"./resize-observer-polyfill-802KOfsG.js";import"./json2mq-hkdWEevq.js";import"./string-convert-NV8PTOlN.js";import"./enquire.js-6Qlgqrhw.js";import"./@kurkle-sRCxMDZz.js";import"./@babel-blHd5-vz.js";import"./react-onclickoutside-urJW6kcO.js";import"./react-popper-CogaYvqk.js";import"./react-fast-compare-55LePW81.js";import"./@popperjs-zyV4rJhQ.js";import"./warning-tq1HNrfO.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function d(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(t){if(t.ep)return;t.ep=!0;const i=d(t);fetch(t.href,i)}})();const G=({title:a,subtitle:l,value:d})=>{const c={plugins:{legend:{display:!1},tooltip:{enabled:!1}},responsive:!0,maintainAspectRatio:!1,aspectRatio:2,layout:{padding:40}},t={labels:[a,l],datasets:[{label:"Efectividad",data:[d,100-d],backgroundColor:["#598234","#2B2B36"],borderColor:["#598234","#2B2B36"],borderWidth:1,circumference:180,rotation:270,cutout:"75%"}]},i={id:"gaugePointer",afterDatasetsDraw(o,r,u){const{ctx:s,data:m}=o,n=o.getDatasetMeta(0).data[0].x,p=o.getDatasetMeta(0).data[0].y,h=o.getDatasetMeta(0).data[0].outerRadius,b=o.getDatasetMeta(0).data[0].innerRadius,y=h-b,w=h-b+y,j=0-h-y/2,x=Math.PI/180,g=6,D=o.getDatasetMeta(0).data[0].$context.raw;function k(v){return v.reduce((N,S)=>N+S,0)}const A=m.datasets[0].data.map((v,N)=>v),M=k(A),E=D/M*100,$=D/M*180-90;s.save(),s.translate(n,p),s.rotate(x*$),s.beginPath(),s.fillStyle="#598234",s.roundRect(0-g/2,j,g,w,5),s.fill(),s.restore();function O(){const S=30*(o.chartArea.width/o.chartArea.height);return S>60?60:S}s.font=`bold ${O()}px Inter sans-serif`,s.fillStyle="black",s.textAlign="center",s.textBaseline="bottom",s.fillText(`${E.toFixed(0)}%`,n,p)}};return e.jsxs("div",{className:"card__container block w-full px-8 py-5 max-w-full 2xl:max-w-[100%] lg:max-w-[600px] lg:max-h-[350px] max-h-80  h-[350px] 2xl:max-h-96 bg-white rounded-2xl shadow-cardShadow ",children:[e.jsx("h3",{className:"font-roboto font-bold w-full text-2xl md:text-3xl xl:text-4xl text-grey-text ",children:a}),e.jsx("div",{className:"relative block h-full w-[99%]",children:e.jsx(R,{options:c,data:t,plugins:[i]})})]})},V=({children:a})=>{const l={dots:!0,arrows:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1};return e.jsx(B,{...l,children:a})},H=({machines:a})=>{const[l,d]=f.useState(!1),[c,t]=f.useState(null),i={buttonStyles:"focus:outline-0  text-blue-button border-blue-button hover:border-blue-button border bg-transparent border-opacity-40 hover:border-opacity-100 hover:bg-blue-button hover:bg-opacity-[.05]",transitionStyle:"transition-bg button-ease duration-200"},o=n=>n?"text-green-success":"text-red-alert",r=n=>({true:"Active",false:"Inactive"})[n],u=n=>{d(!0),console.log(n.requests),n.requests.length==0?t(n.requests[0]):t(n.requests)},s=()=>{d(!1),t(null)},m=()=>c.map(n=>e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Folio: ",n.folio]}),e.jsxs("p",{children:["Status: ",n.status]}),e.jsxs("p",{children:["Departamento: ",n.department]}),e.jsxs("p",{children:["Tiempo transcurrido: ",n.elapsedTime]})]}));return e.jsxs("div",{className:"font-roboto 2xl:max--[100%] lg:max-w-[100%] lg:max-h-[350px] h-[350px] card__container block w-full pl-8 py-5 max-w-full max-h-80 2xl:max-h-96 bg-white rounded-2xl shadow-cardShadow ",children:[e.jsx("h3",{className:"font-roboto font-bold w-full text-2xl md:text-3xl xl:text-4xl text-grey-text ",children:"Maquinas"}),e.jsx("ul",{className:"h-[80%] flex flex-col overflow-y-auto pr-5 sm:pr-[10%] mt-3",children:a.map((n,p)=>e.jsxs("li",{className:"relative flex justify-between items-center flex-wrap h-auto w-full my-5",children:[e.jsx("p",{children:n.name}),e.jsx("p",{onClick:()=>u(n),className:`${n.isActive?"cursor-default":"cursor-pointer"} select-none ${o(n.isActive)} `,children:r(n.isActive)})]},p))}),l&&c&&e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-black  opacity-50",onClick:s}),e.jsxs("div",{className:"z-20 bg-white p-8 w-[90%] max-w-[500px] rounded-lg shadow-cardShadow flex flex-col",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Información de la máquina"}),e.jsx(V,{children:m()}),e.jsx("button",{className:`mt-8 ${i.buttonStyles} ${i.transitionStyle}`,onClick:s,children:"Cerrar"})]})]})]})},K=({title:a,qty:l})=>e.jsxs("div",{className:"flex flex-col items-center md:w-[280px] w-[80%] h-[150px] p-[25px] justify-center bg-white rounded-2xl shadow-cardShadow my-5 md:my-0 ",children:[e.jsx("p",{className:"font-roboto font-semibold text-6xl",children:l}),e.jsx("h2",{className:"font-roboto font-bold text-3xl",children:a})]});q.register(L,I,z);const Q=({title:a,value:l})=>{const d=o=>{const r={Disponibilidad:"#3498DB",Rendimiento:"#B30000",Calidad:"#FFC029",default:"#598234"};return r[o]||r.default},c={plugins:{legend:{display:!1},tooltip:{enabled:!1,mode:"dataset"}},responsive:!0,maintainAspectRatio:!1,aspectRatio:1,layout:{padding:20}},t={labels:["OEE","Waste"],datasets:[{label:"Effectiveness",data:[l,100-l],backgroundColor:[d(a),"#E2E2E2"],borderColor:[d(a),"#E2E2E2"],borderWidth:1,rotation:90,cutout:"85%"}]},i={id:"gaugePointer",afterDatasetsDraw(o){const{ctx:r}=o,u=o.getDatasetMeta(0).data[0].x,s=o.getDatasetMeta(0).data[0].y;function m(){const h=52*(o.chartArea.width/o.chartArea.height);return h>60?60:h}r.font=`bold ${m()}px Inter sans-serif`,r.fillStyle=d(a),r.textAlign="center",r.textBaseline="middle",r.fillText(`${l}%`,u,s)}};return e.jsxs("div",{className:"card__container block w-full px-8 py-5 max-w-full 2xl:max-w-[100%] lg:max-w-[600px] lg:max-h-[350px] max-h-80  h-[350px] 2xl:max-h-96 bg-white rounded-2xl shadow-cardShadow ",children:[e.jsx("h3",{className:"font-roboto font-bold w-full text-2xl md:text-3xl xl:text-4xl text-grey-text ",children:a}),e.jsx("div",{className:"relative block h-[90%] w-[99%]",children:e.jsx(R,{options:c,data:t,plugins:[i]})})]})},U=[{title:"Efectvidad",subtitle:"Waste",value:95,type:"gauge"},{title:"Rendimiento",value:95,type:"doghnut"},{title:"Disponibilidad",value:100,type:"doghnut"},{title:"Calidad",value:100,type:"doghnut"},{title:"MTBF",value:10,type:"doghnut"}],J={piezasReales:200,piezasPlaneadas:209},X=[{name:"DF-002",isActive:!1,requests:[{folio:"M24-250260",status:"1",department:"Mantenimiento",elapsedTime:"1.00:46:00"},{folio:"M24-250260",status:"1",department:"Mantenimiento",elapsedTime:"1.00:46:00"}]},{name:"DF-003",isActive:!0,requests:[]},{name:"EN-734",isActive:!0,requests:[]},{name:"DN-667",isActive:!0,requests:[]},{name:"DN-668",isActive:!0,requests:[]},{name:"PH-107",isActive:!0,requests:[]},{name:"RD-052",isActive:!0,requests:[]},{name:"RD-053",isActive:!0,requests:[]},{name:"BD-022",isActive:!0,requests:[]}],Y={metrics:U,production:J,machines:X},Z=()=>{const{metrics:a,production:l,machines:d}=Y,c={gridStyles:"dashboard__container block relative w-full h-auto grid gap-6 xl:grid-cols-3 xl:grid-rows-2 md:grid-cols-2 sm:grid-cols-1 sm:grid-auto-rows-auto",marginStyles:"lg:px-20 md:px-10 px-5 my-10 pb-12"},t={doghnut:Q,gauge:G},i=(r,u)=>{const s=t[r.type];return s?e.jsx(s,{value:r.value,title:r.title,subtitle:r.subtitle},`${r.type}-${u}`):(console.warn(`Unknown metric type: ${r.type}`),null)},o=()=>{if(l&&typeof l=="object")return Object.entries(l).map(([r,u])=>e.jsx(K,{title:r,qty:u},r));console.warn("Invalid production data format")};return e.jsxs("div",{className:`${c.gridStyles} my-10 pb-12 md:pb-0`,children:[e.jsx("div",{className:"flex flex-col justify-between items-center 2xl:max-h-[350px]",children:o()}),e.jsx(H,{machines:d}),a&&Array.isArray(a)&&a.map(i)]})},ee=a=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:15,height:16,fill:"none",...a,children:e.jsx("path",{stroke:"#151D48",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m3.997 6 3.51 4 3.51-4"})}),C=({options:a,filterOption:l})=>{const[d,c]=f.useState(a[0]),[t,i]=f.useState(!1),[o,r]=f.useState(""),u=f.useRef(null),s=f.useRef(null),m=f.useRef(null),n={fontStyles:"font-roboto font-bold text-dark-charcoal text-sm sm:text-xl",buttonStyles:"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-blue-500 hover:border-blue-500"};f.useEffect(()=>{const x=g=>{u.current&&s.current&&!u.current.contains(g.target)&&!s.current.contains(g.target)&&(j(),i(!1),w())};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]);const p=()=>{i(!t)},h=x=>{r(x.target.value.toLowerCase())},b=x=>{c(x),w(),j(),p()},y=a.filter(x=>x.toLowerCase().includes(o.toLowerCase())),w=()=>{s.current&&(s.current.scrollTop=0)},j=()=>{r(""),m.current&&(m.current.value="")};return e.jsxs("div",{className:`relative group w-[100%] h-[100%] ${n.fontStyles}`,children:[e.jsxs("button",{ref:u,onClick:p,readOnly:!0,className:`relative h-full flex justify-center items-center w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white rounded-xl shadow-cardShadow hover:border-blue-button ${n.buttonStyles}`,children:[e.jsx("span",{className:`mr-2 ${n.fontStyles} `,children:d}),e.jsx(ee,{className:"absolute right-[10%]"})]}),e.jsxs("div",{ref:s,className:`${t?"":"hidden"} absolute right-0 mt-2 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 p-1 space-y-1 z-10 w-full max-h-[200px] overflow-y-auto ${n.fontStyles} `,children:[e.jsx("input",{ref:m,className:`block w-full px-4 py-2 text-gray-800 font-normal focus:outline-none ${l?"active":"hidden"}`,type:"text",placeholder:"Buscar...",autoComplete:"on",onChange:h}),y.map((x,g)=>e.jsx("div",{onClick:()=>b(x),className:"font-normal block px-4 py-2 text-gray-700 hover:bg-gray-100 active:bg-blue-100 cursor-pointer rounded-md",children:x},g))]})]})},te=()=>{const[a,l]=f.useState(new Date),d=W.useMediaQuery({maxWidth:720}),c={cardStyles:"flex items-center justify-center bg-white rounded-xl shadow-cardShadow ",buttonStyles:"flex items-center justify-center bg-transparent  w-[200px] h-[50px]",fontStyles:"font-roboto font-bold text-dark-charcoal text-sm sm:text-xl",marginStyles:"px-0 sm:px-5 py-5 ",dateStyles:"select-none focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-blue-button hover:border-blue-button hover:border"};function t(r){l(r)}const i=["Rojo","Verde","Azul","Amarillo","Morado","Naranja","Rosa","Negro","Blanco","Gris"],o=f.forwardRef(({value:r,onClick:u},s)=>e.jsx("button",{className:`w-full h-full bg-white rounded-xl datepicker-input text-center cursor-pointer ${c.dateStyles}`,onClick:u,ref:s,readOnly:!0,children:r}));return e.jsxs("div",{className:"relative flex justify-center w-full h-auto mt-[30px]",children:[e.jsx("div",{className:"w-1/3 h-full flex justify-start",children:e.jsx("div",{className:`${c.fontStyles} ${c.buttonStyles} `,children:e.jsx(C,{options:i,filterOption:!0})})}),e.jsx("div",{className:"w-1/3 h-full flex justify-center mx-2 md:mx-0",children:e.jsx("div",{className:` ${c.fontStyles} w-[200px] h-[50px]`,children:e.jsx(C,{options:["Turno 1","Turno 2","Turno 3"],filterOption:!1})})}),e.jsx("div",{className:"w-1/3 h-full flex justify-end",children:e.jsx("div",{className:`datepicker-container ${c.cardStyles} ${c.fontStyles} p-0 w-[100%] xl:w-[80%] h-[50px]`,children:e.jsx(_,{selected:a,onChange:t,dateFormat:d?"Do MMMM":"EEEE Do MMMM yyyy",locale:F,maxDate:new Date,customInput:e.jsx(o,{})})})})]})};function se(){const[a,l]=f.useState(!1);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,f.useEffect(()=>{const d=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;l(d)},[]),e.jsx("div",{className:`App w-full h-screen flex flex-col bg-white-smoke ${a?"theme-dark":"theme-light"}`,children:e.jsxs("section",{className:" block relative w-full h-full lg:px-20 md:px-10 px-5",children:[e.jsx(te,{}),e.jsx(Z,{})]})})}P.createRoot(document.getElementById("root")).render(e.jsx(T.StrictMode,{children:e.jsx(se,{})}));
