import{j as e,r as f,R as P}from"./react-L_ukdsnw.js";import{c as B}from"./react-dom-50bK44qw.js";import{D as k}from"./react-chartjs-2-o_NvxRvI.js";import{S as q}from"./react-slick-zyv5WSLU.js";/* empty css                       */import{C as L,A as I,p as F,a as z}from"./chart.js-uyaxlqz9.js";import{e as _}from"./date-fns-zXfHFL24.js";import{e as W}from"./react-datepicker-DFLYum_3.js";import{r as Q}from"./react-responsive-b9SflI7d.js";import{Q as G,a as H}from"./@tanstack-afeAMuk6.js";import"./classnames-Qe22oBeS.js";import"./scheduler-iwWdm5Ml.js";import"./lodash.debounce-5mBl9nYv.js";import"./resize-observer-polyfill-802KOfsG.js";import"./json2mq-hkdWEevq.js";import"./string-convert-NV8PTOlN.js";import"./enquire.js-6Qlgqrhw.js";import"./@kurkle-sRCxMDZz.js";import"./@babel-blHd5-vz.js";import"./react-onclickoutside-urJW6kcO.js";import"./react-popper-CogaYvqk.js";import"./react-fast-compare-55LePW81.js";import"./@popperjs-zyV4rJhQ.js";import"./warning-tq1HNrfO.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function c(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(s){if(s.ep)return;s.ep=!0;const o=c(s);fetch(s.href,o)}})();const V=({title:t,subtitle:a,value:c})=>{const u={plugins:{legend:{display:!1},tooltip:{enabled:!1}},responsive:!0,maintainAspectRatio:!1,aspectRatio:2,layout:{padding:40}},s={labels:[t,a],datasets:[{label:"Efectividad",data:[c,100-c],backgroundColor:["#598234","#2B2B36"],borderColor:["#598234","#2B2B36"],borderWidth:1,circumference:180,rotation:270,cutout:"75%"}]},o={id:"gaugePointer",afterDatasetsDraw(r,i,x){const{ctx:n,data:m}=r,l=r.getDatasetMeta(0).data[0].x,p=r.getDatasetMeta(0).data[0].y,h=r.getDatasetMeta(0).data[0].outerRadius,b=r.getDatasetMeta(0).data[0].innerRadius,y=h-b,w=h-b+y,v=0-h-y/2,C=Math.PI/180,d=6,g=r.getDatasetMeta(0).data[0].$context.raw;function A(j){return j.reduce((N,S)=>N+S,0)}const $=m.datasets[0].data.map((j,N)=>j),D=A($),E=g/D*100,O=g/D*180-90;n.save(),n.translate(l,p),n.rotate(C*O),n.beginPath(),n.fillStyle="#598234",n.roundRect(0-d/2,v,d,w,5),n.fill(),n.restore();function T(){const S=30*(r.chartArea.width/r.chartArea.height);return S>60?60:S}n.font=`bold ${T()}px Inter sans-serif`,n.fillStyle="black",n.textAlign="center",n.textBaseline="bottom",n.fillText(`${E.toFixed(0)}%`,l,p)}};return e.jsxs("div",{className:"card__container block w-full px-8 py-5 max-w-full 2xl:max-w-[100%] lg:max-w-[600px] lg:max-h-[350px] max-h-80  h-[350px] 2xl:max-h-96 bg-white rounded-2xl shadow-cardShadow ",children:[e.jsx("h3",{className:"font-roboto font-bold w-full text-2xl md:text-3xl xl:text-4xl text-grey-text ",children:t}),e.jsx("div",{className:"relative block h-full w-[99%]",children:e.jsx(k,{options:u,data:s,plugins:[o]})})]})},K=({children:t})=>{const a={dots:!0,arrows:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1};return e.jsx(q,{...a,children:t})},U=({machines:t})=>{const[a,c]=f.useState(!1),[u,s]=f.useState(null),o={buttonStyles:"focus:outline-0  text-blue-button border-blue-button hover:border-blue-button border bg-transparent border-opacity-40 hover:border-opacity-100 hover:bg-blue-button hover:bg-opacity-[.05]",transitionStyle:"transition-bg button-ease duration-200"},r=l=>l?"text-green-success":"text-red-alert",i=l=>({true:"Active",false:"Inactive"})[l],x=l=>{c(!0),l.requests.length==0?s(l.requests[0]):s(l.requests)},n=()=>{c(!1),s(null)},m=()=>u.map((l,p)=>e.jsxs(f.Fragment,{children:[e.jsxs("p",{children:["Folio: ",l.folio]}),e.jsxs("p",{children:["Status: ",l.status]}),e.jsxs("p",{children:["Departamento: ",l.department]}),e.jsxs("p",{children:["Tiempo transcurrido: ",l.elapsedTime]})]},p));return e.jsxs("div",{className:"font-roboto 2xl:max--[100%] lg:max-w-[100%] lg:max-h-[350px] h-[350px] card__container block w-full pl-8 py-5 max-w-full max-h-80 2xl:max-h-96 bg-white rounded-2xl shadow-cardShadow ",children:[e.jsx("h3",{className:"font-roboto font-bold w-full text-2xl md:text-3xl xl:text-4xl text-grey-text ",children:"Maquinas"}),e.jsx("ul",{className:"h-[80%] flex flex-col overflow-y-auto pr-5 sm:pr-[10%] mt-3",children:t.map((l,p)=>e.jsxs("li",{className:"relative flex justify-between items-center flex-wrap h-auto w-full my-5",children:[e.jsx("p",{children:l.name}),e.jsx("p",{onClick:()=>x(l),className:`${l.isActive?"cursor-default":"cursor-pointer"} select-none ${r(l.isActive)} `,children:i(l.isActive)})]},p))}),a&&u&&e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-black  opacity-50",onClick:n}),e.jsxs("div",{className:"z-20 bg-white p-8 w-[90%] max-w-[500px] rounded-lg shadow-cardShadow flex flex-col",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Información de la máquina"}),e.jsx(K,{children:m()}),e.jsx("button",{className:`mt-8 ${o.buttonStyles} ${o.transitionStyle}`,onClick:n,children:"Cerrar"})]})]})]})},J=({title:t,qty:a})=>e.jsxs("div",{className:"flex flex-col items-center md:w-[280px] w-[80%] h-[150px] p-[25px] justify-center bg-white rounded-2xl shadow-cardShadow my-5 md:my-0 ",children:[e.jsx("p",{className:"font-roboto font-semibold text-6xl",children:a}),e.jsx("h2",{className:"font-roboto font-bold text-3xl",children:t})]});L.register(I,F,z);const X=({title:t,value:a})=>{const c=r=>{const i={Disponibilidad:"#3498DB",Rendimiento:"#B30000",Calidad:"#FFC029",default:"#598234"};return i[r]||i.default},u={plugins:{legend:{display:!1},tooltip:{enabled:!1,mode:"dataset"}},responsive:!0,maintainAspectRatio:!1,aspectRatio:1,layout:{padding:20}},s={labels:["OEE","Waste"],datasets:[{label:"Effectiveness",data:[a,100-a],backgroundColor:[c(t),"#E2E2E2"],borderColor:[c(t),"#E2E2E2"],borderWidth:1,rotation:90,cutout:"85%"}]},o={id:"gaugePointer",afterDatasetsDraw(r){const{ctx:i}=r,x=r.getDatasetMeta(0).data[0].x,n=r.getDatasetMeta(0).data[0].y;function m(){const h=52*(r.chartArea.width/r.chartArea.height);return h>60?60:h}i.font=`bold ${m()}px Inter sans-serif`,i.fillStyle=c(t),i.textAlign="center",i.textBaseline="middle",i.fillText(`${a}%`,x,n)}};return e.jsxs("div",{className:"card__container block w-full px-8 py-5 max-w-full 2xl:max-w-[100%] lg:max-w-[600px] lg:max-h-[350px] max-h-80  h-[350px] 2xl:max-h-96 bg-white rounded-2xl shadow-cardShadow ",children:[e.jsx("h3",{className:"font-roboto font-bold w-full text-2xl md:text-3xl xl:text-4xl text-grey-text ",children:t}),e.jsx("div",{className:"relative block h-[90%] w-[99%]",children:e.jsx(k,{options:u,data:s,plugins:[o]})})]})},Y=[{title:"Efectvidad",subtitle:"Waste",value:95,type:"gauge"},{title:"Rendimiento",value:95,type:"doghnut"},{title:"Disponibilidad",value:100,type:"doghnut"},{title:"Calidad",value:100,type:"doghnut"},{title:"MTBF",value:10,type:"doghnut"}],Z={piezasReales:200,piezasPlaneadas:209},ee=[{name:"DF-002",isActive:!1,requests:[{folio:"M24-250260",status:"1",department:"Mantenimiento",elapsedTime:"1.00:46:00"},{folio:"M24-250260",status:"1",department:"Mantenimiento",elapsedTime:"1.00:46:00"}]},{name:"DF-003",isActive:!0,requests:[]},{name:"EN-734",isActive:!0,requests:[]},{name:"DN-667",isActive:!0,requests:[]},{name:"DN-668",isActive:!0,requests:[]},{name:"PH-107",isActive:!0,requests:[]},{name:"RD-052",isActive:!0,requests:[]},{name:"RD-053",isActive:!0,requests:[]},{name:"BD-022",isActive:!0,requests:[]}],te=[{text:"1er Turno",value:"1",isSelected:!1},{text:"2do Turno",value:"2",isSelected:!0},{text:"3er Turno",value:"3",isSelected:!1}],se=[{text:"86777054",value:"810",isSelected:!1},{text:"86333048",value:"733",isSelected:!1},{text:"54390823",value:"390",isSelected:!0}],R={metrics:Y,production:Z,machines:ee,shifts:te,cells:se},oe=()=>{const{metrics:t,production:a,machines:c}=R,u={gridStyles:"dashboard__container block relative w-full h-auto grid gap-6 xl:grid-cols-3 xl:grid-rows-2 md:grid-cols-2 sm:grid-cols-1 sm:grid-auto-rows-auto",marginStyles:"lg:px-20 md:px-10 px-5 my-10 pb-12"},s={doghnut:X,gauge:V},o=(i,x)=>{const n=s[i.type];return n?e.jsx(n,{value:i.value,title:i.title,subtitle:i.subtitle},`${i.type}-${x}`):(console.warn(`Unknown metric type: ${i.type}`),null)},r=()=>{if(a&&typeof a=="object")return Object.entries(a).map(([i,x])=>e.jsx(J,{title:i,qty:x},i));console.warn("Invalid production data format")};return e.jsxs("div",{className:`${u.gridStyles} my-10 pb-12 md:pb-0`,children:[e.jsx("div",{className:"flex flex-col justify-between items-center 2xl:max-h-[350px]",children:r()}),e.jsx(U,{machines:c}),t&&Array.isArray(t)&&t.map(o)]})},re=t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:15,height:16,fill:"none",...t,children:e.jsx("path",{stroke:"#151D48",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m3.997 6 3.51 4 3.51-4"})}),M=({options:t,isFilterEnable:a})=>{const[c,u]=f.useState([]),[s,o]=f.useState(!1),[r,i]=f.useState(""),x=f.useRef(null),n=f.useRef(null),m=f.useRef(null),l={fontStyles:"font-roboto font-bold text-dark-charcoal text-sm sm:text-xl",buttonStyles:"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-blue-500 hover:border-blue-500"},p=()=>{if(t){const d=t.find(g=>g.isSelected);u(d||null)}};f.useEffect(()=>{const d=g=>{x.current&&n.current&&!x.current.contains(g.target)&&!n.current.contains(g.target)&&(v(),o(!1),w())};return p(),document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const h=()=>{o(!s)},b=d=>{i(d.target.value.toLowerCase())},y=d=>{u(d),w(),v(),h()},w=()=>{n.current&&(n.current.scrollTop=0)},v=()=>{i(""),m.current&&(m.current.value="")},C=f.useCallback(()=>a?t.filter(d=>d.text.toLowerCase().includes(r.toLowerCase())):t,[r,a]);return e.jsxs("div",{className:`relative group w-[100%] h-[100%] ${l.fontStyles}`,children:[e.jsxs("button",{ref:x,onClick:h,readOnly:!0,className:`relative h-full flex justify-center items-center w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white rounded-xl shadow-cardShadow hover:border-blue-button ${l.buttonStyles}`,children:[e.jsx("span",{className:`mr-2 ${l.fontStyles} `,children:c.text}),e.jsx(re,{className:"absolute right-[10%]"})]}),e.jsxs("div",{ref:n,className:`${s?"":"hidden"} absolute right-0 mt-2 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 p-1 space-y-1 z-10 w-full max-h-[200px] overflow-y-auto ${l.fontStyles} `,children:[a&&e.jsx("input",{ref:m,className:`block w-full px-4 py-2 text-gray-800 font-normal focus:outline-none ${a?"active":"hidden"}`,type:"text",placeholder:"Buscar...",autoComplete:"on",onChange:b}),t&&C().map((d,g)=>e.jsx("option",{value:d.value,onClick:()=>y(d),className:"font-normal block px-4 py-2 text-gray-700 hover:bg-gray-100 active:bg-blue-100 cursor-pointer rounded-md",children:d.text},g))]})]})},ne=()=>{const{shifts:t,cells:a}=R,[c,u]=f.useState(new Date),s=Q.useMediaQuery({maxWidth:768}),o={cardStyles:"flex items-center justify-center bg-white rounded-xl shadow-cardShadow ",buttonStyles:"flex items-center justify-center bg-transparent  w-[200px] h-[50px]",fontStyles:"font-roboto font-bold text-dark-charcoal text-sm sm:text-xl md:text-base lg:text-xl",marginStyles:"px-0 sm:px-5 py-5 ",dateStyles:"select-none focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-blue-button hover:border-blue-button hover:border"};function r(x){u(x)}const i=f.forwardRef(({value:x,onClick:n},m)=>e.jsx("button",{className:`w-full h-full bg-white rounded-xl datepicker-input text-center cursor-pointer ${o.dateStyles}`,onClick:n,ref:m,readOnly:!0,children:x}));return e.jsxs("div",{className:"relative flex justify-center w-full h-auto mt-[30px]",children:[e.jsx("div",{className:"w-1/3 h-full flex justify-start",children:e.jsx("div",{className:`${o.fontStyles} ${o.buttonStyles} `,children:e.jsx(M,{options:a,isFilterEnable:!0})})}),e.jsx("div",{className:"w-1/3 h-full flex justify-center mx-2 md:mx-0",children:e.jsx("div",{className:` ${o.fontStyles} w-[200px] h-[50px]`,children:e.jsx(M,{options:t,isFilterEnable:!1})})}),e.jsx("div",{className:"w-1/3 h-full flex justify-end",children:e.jsx("div",{className:`datepicker-container ${o.cardStyles} ${o.fontStyles} p-0 w-[100%] xl:w-[80%] h-[50px]`,children:e.jsx(W,{selected:c,onChange:r,dateFormat:s?"dd MMMM":"EEEE dd MMMM yyyy",locale:_,maxDate:new Date,customInput:e.jsx(i,{})})})})]})},ae=new G;function le(){const[t,a]=f.useState(!1);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,f.useEffect(()=>{const c=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;a(c)},[]),e.jsx(H,{client:ae,children:e.jsx("div",{className:`App w-full h-screen flex flex-col bg-white-smoke ${t?"theme-dark":"theme-light"}`,children:e.jsxs("section",{className:" block relative w-full h-full lg:px-20 md:px-10 px-5",children:[e.jsx(ne,{}),e.jsx(oe,{})]})})})}B.createRoot(document.getElementById("root")).render(e.jsx(P.StrictMode,{children:e.jsx(le,{})}));
